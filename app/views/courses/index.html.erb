<div class="container mt-3" style="overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    line-height: 1.4;">
  <div class="row">
    <div class="col-12">
      <h1>Available Courses</h1>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <% if @query %>
        <p>You searched for <strong><%= @query %></strong>. We found <%= @courses.count %> courses out of our <%= course.count %> on our website.</p>
      <% else %>
        <p>There are <%= @courses.count %> courses available</p>
      <% end %>
    </div>
  </div>

  <div class="row">
    <% @courses.each do |course| %>
      <div class="col-4">
        <div class="course-card" style="background-image: min-height: 100%; min-width:
          100%; background-position: center; background-size: cover; box-shadow: 0px 0px 4px #ccc;">
            <% if course.cover_photo.attached? %>
              <%= cl_image_tag course.cover_photo.key, class: "card-img-top" %>
            <% else %>
              <img class="card-img-top" src="https://images.unsplash.com/photo-1477281765962-ef34e8bb0967?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1532&q=80" alt="">
            <% end %>
          <div class="course-card-image" style=""></div>
          <div class="course-card-content">
            <div class="course-card-title">
              <h4 style="margin-top: 8px"><%= course.title %> <%= course.category %> course</h4>
            </div>
            <p style="height: 10vh;"><%= course.description %></p>
            <%= link_to "Check out this course", course_path(course) %>
            <div class="flex">
              <div class="flex">
                <h2 class="card-course-pricing">$<%= course.price_per_hour %></h2>
                <% if course.teacher.profile_photo.attached? %>
                  <%= cl_image_tag course.teacher.profile_photo.key, class: "card-course-user avatar-bordered" %>
                <% else %>
                  <%= image_tag "user-profile-default.png", class: "card-course-user avatar-bordered" %>
                <% end %>
              </div>
            </div>
          </div>
          <div class="course-card-actions">
            <% if policy(course).edit? %>
              <%= link_to 'Edit', edit_course_path(course), class: 'ml-3 text-warning' %>
            <% end %>
            <% if policy(course).destroy? %>
              <%= link_to "Remove", course_path(course),
                method: :delete,
                data: { confirm: "Are you sure you want to delete this course?" },
                class: 'ml-3 text-danger'
              %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
